# ==============================================================================
# Automation Platform - Environment Configuration
# ==============================================================================
# Copy this file to .env and fill in your values.
# NEVER commit .env to git - it contains secrets!
# ==============================================================================

# ------------------------------------------------------------------------------
# AWS Configuration
# ------------------------------------------------------------------------------

# Your AWS account ID (12-digit number)
AWS_ACCOUNT_ID=123456789012

# Primary region for deployment
AWS_REGION=us-east-1

# AWS CLI profile to use (leave blank for default)
AWS_PROFILE=

# ------------------------------------------------------------------------------
# Domain & Hosting
# ------------------------------------------------------------------------------

# Your root domain (must be hosted in Route 53)
DOMAIN_NAME=jurigregg.com

# Subdomain for the automation platform
APP_SUBDOMAIN=automations

# Full app URL (constructed from above, for reference)
# APP_URL=https://automations.jurigregg.com

# ------------------------------------------------------------------------------
# Environment
# ------------------------------------------------------------------------------

# Environment name: dev | staging | prod
ENVIRONMENT=dev

# Log level: DEBUG | INFO | WARNING | ERROR
LOG_LEVEL=INFO

# Enable AWS X-Ray tracing: true | false
ENABLE_TRACING=true

# ------------------------------------------------------------------------------
# DynamoDB Configuration
# ------------------------------------------------------------------------------

# Table name prefix (tables will be: {prefix}-workflows, {prefix}-executions, etc.)
DYNAMODB_TABLE_PREFIX=automation

# Execution history retention in days (for TTL)
EXECUTION_RETENTION_DAYS=90

# ------------------------------------------------------------------------------
# API Configuration
# ------------------------------------------------------------------------------

# API rate limiting (requests per second per IP)
API_RATE_LIMIT=10

# API timeout in seconds (max 29 for API Gateway)
API_TIMEOUT_SECONDS=29

# CORS allowed origins (comma-separated, use * for dev only)
CORS_ALLOWED_ORIGINS=https://automations.jurigregg.com

# ------------------------------------------------------------------------------
# Authentication (Future - not needed for MVP)
# ------------------------------------------------------------------------------

# Auth strategy: none | api_key | cognito
AUTH_STRATEGY=none

# If using API key auth, the header name
# API_KEY_HEADER=X-API-Key

# If using Cognito
# COGNITO_USER_POOL_ID=
# COGNITO_CLIENT_ID=

# ------------------------------------------------------------------------------
# Secrets (stored in SSM Parameter Store, not here!)
# ------------------------------------------------------------------------------
# These are PATHS in SSM Parameter Store, not actual values.
# The actual secrets are stored securely in AWS.

# Path prefix for secrets in SSM Parameter Store
SSM_SECRETS_PATH=/automations/secrets

# Path prefix for config in SSM Parameter Store  
SSM_CONFIG_PATH=/automations/config

# Example secrets you'll need to add to SSM:
# /automations/secrets/discord_webhook - Discord webhook URL for notifications
# /automations/secrets/slack_webhook - Slack webhook URL (optional)
# /automations/secrets/smtp_password - For email notifications via SES

# ------------------------------------------------------------------------------
# Step Functions Configuration
# ------------------------------------------------------------------------------

# Workflow type: EXPRESS | STANDARD
# EXPRESS: cheaper, max 5 min, no execution history persistence
# STANDARD: more expensive, max 1 year, full history
STEP_FUNCTIONS_TYPE=EXPRESS

# Maximum workflow execution time in seconds (300 max for EXPRESS)
MAX_EXECUTION_TIME_SECONDS=300

# ------------------------------------------------------------------------------
# Notification Defaults
# ------------------------------------------------------------------------------

# Default notification channel: discord | slack | email | none
DEFAULT_NOTIFICATION_CHANNEL=discord

# Email sender address (must be verified in SES)
SES_SENDER_EMAIL=automations@jurigregg.com

# ------------------------------------------------------------------------------
# Development Settings
# ------------------------------------------------------------------------------

# Enable local development mode
LOCAL_DEV=false

# Local API port (when running locally)
LOCAL_API_PORT=3001

# Frontend dev server port
FRONTEND_DEV_PORT=5173

# ------------------------------------------------------------------------------
# CDK Specific
# ------------------------------------------------------------------------------

# CDK default account (usually same as AWS_ACCOUNT_ID)
CDK_DEFAULT_ACCOUNT=123456789012

# CDK default region (usually same as AWS_REGION)
CDK_DEFAULT_REGION=us-east-1

# Stack removal policy: DESTROY | RETAIN
# Use DESTROY for dev (easy cleanup), RETAIN for prod (protect data)
REMOVAL_POLICY=DESTROY
